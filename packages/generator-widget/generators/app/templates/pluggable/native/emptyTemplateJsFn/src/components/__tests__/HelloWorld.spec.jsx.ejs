import { createElement } from "react";
import { render } from "@testing-library/react-native";
import { Platform } from "react-native";

import { HelloWorld } from "../HelloWorld";

describe.each(["ios", "android"])("HelloWorld for %s", (os) => {
    beforeEach(() => {
        Platform.OS = os;
        Platform.select = jest.fn((dict) => dict[Platform.OS]);
    });

    it("renders the structure correctly", () => {
        const helloWorldProps = {
            name: "Mendix",
            style: []
        };
        const component = render(<HelloWorld {...helloWorldProps} />);

        expect(component.toJSON()).toMatchSnapshot();
    });

    it("renders the structure correctly with custom style", () => {
        const helloWorldProps = {
            name: "Mendix",
            style: [{ container: { borderColor: "white" }, label: { color: "black" } }]
        };
        const component = render(<HelloWorld {...helloWorldProps} />);

        expect(component.toJSON()).toMatchSnapshot();
    });
});
